<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Celebrate Vietnamese Women's Day with this fun mini-game!">
    <meta name="keywords" content="Vietnamese Women's Day, Game, Celebration">
    <title>Vietnamese Women's Day Mini-Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #FFF0F5;
            color: #333;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        #gameContainer {
            max-width: 400px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #FF69B4;
        }
        #gameArea {
            width: 300px;
            height: 400px;
            border: 2px solid #FF69B4;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
        }
        .item {
            position: absolute;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 30px;
            line-height: 40px;
            text-align: center;
        }
        button {
            background-color: #FF69B4;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }
        input {
            padding: 10px;
            font-size: 16px;
            width: 200px;
            margin: 10px 0;
        }
        #rules {
            text-align: left;
            margin: 20px 0;
        }
        #rules ul {
            padding-left: 20px;
        }
        #notification {
            color: red;
            font-weight: bold;
            margin: 10px 0;
        }
        .highlight {
            font-weight: bold;
            color: #FF69B4;
        }
        .wish {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <h1>Ch√†o m·ª´ng Ng√†y Ph·ª• n·ªØ Vi·ªát Nam</h1>
        <h1>Vietnamese Women's Day Greeting</h1>
        
        <div id="nameScreen">
            <p>Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n:</p>
            <p>Please enter your name:</p>
            <input type="text" id="playerName" placeholder="T√™n c·ªßa b·∫°n | Your name">
            <button onclick="showRules()">Ti·∫øp t·ª•c | Continue</button>
        </div>

        <div id="rulesScreen" style="display: none;">
            <h2>Lu·∫≠t ch∆°i | Game Rules</h2>
            <div id="rules">
                <ul>
                    <li>Thu th·∫≠p hoa h·ªìng trong 30 gi√¢y</li>
                    <li>Collect roses in 30 seconds</li>
                    <li>M·ª•c ti√™u: 35 ƒëi·ªÉm | Goal: 35 points</li>
                    <li>üåπ Rose: +1 ƒëi·ªÉm | +1 point</li>
                    <li>üíÑ Lipstick: +3 ƒëi·ªÉm | +3 points (ch·ªâ xu·∫•t hi·ªán 4 l·∫ßn | appears only 4 times)</li>
                    <li>üëó Dress: -2 ƒëi·ªÉm | -2 points</li>
                    <li>üëí Hat: -1 ƒëi·ªÉm | -1 point</li>
                    <li>15 gi√¢y cu·ªëi s·∫Ω nhanh h∆°n</li>
                    <li>Last 15 seconds will be faster</li>
                </ul>
            </div>
            <p class="highlight">Thu nh·ªè m√†n h√¨nh ƒëi·ªán tho·∫°i ƒë·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët h∆°n</p>
            <p class="highlight">Minimize the phone screen for a better experience</p>
            <button onclick="startGame()">B·∫Øt ƒë·∫ßu | Start</button>
        </div>

        <div id="gameScreen" style="display: none;">
            <div id="score">ƒêi·ªÉm: 0 | Score: 0</div>
            <div id="timer">Th·ªùi gian: 30 | Time: 30</div>
            <div id="notification"></div>
            <div id="gameArea"></div>
        </div>

        <div id="endScreen" style="display: none;">
            <h2>Ch√∫c m·ª´ng | Congratulations</h2>
            <p id="finalScore"></p>
            <p id="ranking"></p>
            <div id="wishes"></div>
            <p>From the bottom of my heart - Peter Vo - The Parentinc (Webtretho & Beyeu)</p>
            <button onclick="restartGame()">Ch∆°i l·∫°i | Play Again</button>
        </div>
    </div>

    <script>
        let playerName = '';
        let score = 0;
        let timeLeft = 30;
        let gameInterval;
        let itemInterval;
        let lipstickCount = 0;

        function showRules() {
            playerName = document.getElementById('playerName').value || 'Player';
            document.getElementById('nameScreen').style.display = 'none';
            document.getElementById('rulesScreen').style.display = 'block';
        }

        function startGame() {
            document.getElementById('rulesScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            score = 0;
            timeLeft = 30;
            lipstickCount = 0;
            updateDisplay();
            gameInterval = setInterval(updateTimer, 1000);
            itemInterval = setInterval(createItem, 1000);
        }

        function updateTimer() {
            timeLeft--;
            updateDisplay();
            if (timeLeft === 15) {
                document.getElementById('notification').textContent = 'T·ªëc ƒë·ªô tƒÉng l√™n! | Speed increased!';
                clearInterval(itemInterval);
                itemInterval = setInterval(createItem, 500); // Faster for the last 15 seconds
            }
            if (timeLeft === 0) {
                endGame();
            }
        }

        function createItem() {
            const gameArea = document.getElementById('gameArea');
            const item = document.createElement('div');
            item.className = 'item';
            item.style.left = `${Math.random() * (gameArea.clientWidth - 40)}px`;
            item.style.top = '-40px';
            
            const itemType = Math.random();
            if (itemType < 0.6) {
                item.innerHTML = 'üåπ';
                item.dataset.points = 1;
            } else if (itemType < 0.7 && lipstickCount < 4) {
                item.innerHTML = 'üíÑ';
                item.dataset.points = 3;
                lipstickCount++;
            } else if (itemType < 0.85) {
                item.innerHTML = 'üëó';
                item.dataset.points = -2;
            } else {
                item.innerHTML = 'üëí';
                item.dataset.points = -1;
            }
            
            item.addEventListener('mousedown', collectItem);
            item.addEventListener('touchstart', collectItem, { passive: false });
            
            gameArea.appendChild(item);
            moveItem(item);
        }

        function collectItem(e) {
            e.preventDefault(); // Prevent default touch behavior
            const points = parseInt(this.dataset.points);
            score += points;
            updateDisplay();
            this.remove();
        }

        function moveItem(item) {
            let pos = -40;
            const moveInterval = setInterval(() => {
                pos += timeLeft > 15 ? 1 : 2; // Faster movement in last 15 seconds
                item.style.top = `${pos}px`;
                if (pos > 400) {
                    clearInterval(moveInterval);
                    item.remove();
                }
            }, 20);
        }

        function updateDisplay() {
            document.getElementById('score').textContent = `ƒêi·ªÉm: ${score} | Score: ${score}`;
            document.getElementById('timer').textContent = `Th·ªùi gian: ${timeLeft} | Time: ${timeLeft}`;
        }

        function endGame() {
            clearInterval(gameInterval);
            clearInterval(itemInterval);
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('endScreen').style.display = 'block';
            document.getElementById('finalScore').textContent = `${playerName}, ƒêi·ªÉm cu·ªëi c√πng c·ªßa b·∫°n: ${score}\nYour final score: ${score}`;
            document.getElementById('ranking').textContent = getRanking(score);
            document.getElementById('wishes').innerHTML = getRandomWish();
        }

        function getRanking(score) {
            if (score >= 35) return 'B·∫°n l√† B√¥ng h·ªìng Vi·ªát Nam!\nYou are a Vietnamese Rose!';
            if (score >= 25) return 'B·∫°n l√† Hoa sen tinh khi·∫øt!\nYou are a Pure Lotus!';
            if (score >= 15) return 'B·∫°n l√† C√∫c v√†ng r·ª±c r·ª°!\nYou are a Brilliant Chrysanthemum!';
            return 'B·∫°n l√† Hoa h·ªìng ƒëang n·ªü!\nYou are a Blooming Rose!';
        }

        function getRandomWish() {
            const wishes = [
                'Ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp v√† h·∫°nh ph√∫c!<br>Wish you always beautiful and happy!',
                'Ch√∫c b·∫°n th√†nh c√¥ng trong cu·ªôc s·ªëng!<br>Wish you success in life!',
                'Ch√∫c b·∫°n tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng v√† ni·ªÅm vui!<br>Wish you full of energy and joy!',
                'Ch√∫c b·∫°n m√£i tr·∫ª trung v√† r·∫°ng r·ª°!<br>Wish you forever young and radiant!',
                'Ch√∫c b·∫°n lu√¥n t·ª± tin v√† m·∫°nh m·∫Ω!<br>Wish you always confident and strong!',
                'Ch√∫c b·∫°n c√≥ m·ªôt ng√†y tuy·ªát v·ªùi!<br>Wish you have a wonderful day!',
                'Ch√∫c b·∫°n lu√¥n nh·∫≠n ƒë∆∞·ª£c s·ª± y√™u th∆∞∆°ng!<br>Wish you always receive love!',
                'Ch√∫c b·∫°n ƒë·∫°t ƒë∆∞·ª£c m·ªçi ∆∞·ªõc m∆°!<br>Wish you achieve all your dreams!'
            ];
            return `<div class="wish">${wishes[Math.floor(Math.random() * wishes.length)]}</div>`;
        }

        function restartGame() {
            document.getElementById('endScreen').style.display = 'none';
            document.getElementById('nameScreen').style.display = 'block';
            document.getElementById('notification').textContent = '';
        }
    </script>
</body>
</html>
